import{n as Be,W as Pt}from"./scheduler.C5Rd-ZIZ.js";import{n as Mt,l as Ft,j as Gt,k as kt}from"./index.GzWkxjRN.js";function Qr(e,t,r,n){if(!t)return Be;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return Be;const{delay:a=0,duration:s=300,easing:d=Pt,start:l=Mt()+a,end:f=l+s,tick:o=Be,css:g}=r(e,{from:t,to:i},n);let u=!0,c=!1,v;function y(){g&&(v=Gt(e,0,1,s,a,d,g)),a||(c=!0)}function p(){g&&kt(e,v),u=!1}return Ft(D=>{if(!c&&D>=l&&(c=!0),c&&D>=f&&(o(1,0),p()),!u)return!1;if(c){const h=D-l,x=0+1*d(h/s);o(x,1-x)}return!0}),y(),o(0,1),p}function en(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:r,height:n}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=r,e.style.height=n,zt(e,i)}}function zt(e,t){const r=e.getBoundingClientRect();if(t.left!==r.left||t.top!==r.top){const n=getComputedStyle(e),i=n.transform==="none"?"":n.transform;e.style.transform=`${i} translate(${t.left-r.left}px, ${t.top-r.top}px)`}}function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?it(Object(r),!0).forEach(function(n){ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ce(e){"@babel/helpers - typeof";return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(e)}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bt(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function $t(e,t){if(e==null)return{};var r=Bt(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ut(e,t){return Zt(e)||jt(e,t)||qe(e,t)||Vt()}function M(e){return Wt(e)||Ht(e)||qe(e)||Yt()}function Wt(e){if(Array.isArray(e))return Ue(e)}function Zt(e){if(Array.isArray(e))return e}function Ht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,d;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(l){a=!0,d=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function qe(e,t){if(e){if(typeof e=="string")return Ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ue(e,t)}}function Ue(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pe(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=qe(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,d;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return a=l.done,l},e:function(l){s=!0,d=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(s)throw d}}}}var Kt="finalize",qt="consider";function te(e,t,r){e.dispatchEvent(new CustomEvent(Kt,{detail:{items:t,info:r}}))}function j(e,t,r){e.dispatchEvent(new CustomEvent(qt,{detail:{items:t,info:r}}))}var Ce="draggedEntered",me="draggedLeft",Le="draggedOverIndex",Xe="draggedLeftDocument",Ie={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Xt(e,t,r){e.dispatchEvent(new CustomEvent(Ce,{detail:{indexObj:t,draggedEl:r}}))}function Jt(e,t,r){e.dispatchEvent(new CustomEvent(me,{detail:{draggedEl:t,type:Ie.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Qt(e,t){e.dispatchEvent(new CustomEvent(me,{detail:{draggedEl:t,type:Ie.OUTSIDE_OF_ANY}}))}function er(e,t,r){e.dispatchEvent(new CustomEvent(Le,{detail:{indexObj:t,draggedEl:r}}))}function tr(e){window.dispatchEvent(new CustomEvent(Xe,{detail:{draggedEl:e}}))}var S={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Ce,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Le,DRAGGED_LEFT:me,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},N={POINTER:"pointer",KEYBOARD:"keyboard"},Pe="isDndShadowItem",Je="data-is-dnd-shadow-item-internal",rr="data-is-dnd-shadow-item-hint",nr="id:dnd-shadow-placeholder-0000",ir="dnd-action-dragged-el",O="id",We=0;function ht(){We++}function yt(){if(We===0)throw new Error("Bug! trying to decrement when there are no dropzones");We--}var Qe=typeof window>"u";function Ze(e){var t,r=e.getBoundingClientRect(),n=getComputedStyle(e),i=n.transform;if(i){var a,s,d,l;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),a=+t[0],s=+t[5],d=+t[12],l=+t[13];else if(i.startsWith("matrix("))t=i.slice(7,-1).split(/, /),a=+t[0],s=+t[3],d=+t[4],l=+t[5];else return r;var f=n.transformOrigin,o=r.x-d-(1-a)*parseFloat(f),g=r.y-l-(1-s)*parseFloat(f.slice(f.indexOf(" ")+1)),u=a?r.width/a:e.offsetWidth,c=s?r.height/s:e.offsetHeight;return{x:o,y:g,width:u,height:c,top:g,right:o+u,bottom:g+c,left:o}}else return r}function Dt(e){var t=Ze(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Et(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function Tt(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function ar(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Me(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function fe(e){return Tt(Et(e))}function at(e,t){var r=fe(e),n=Dt(t);return Me(r,n)}function or(e,t){var r=fe(e),n=fe(t);return ar(r,n)}function sr(e){var t=Et(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}var J;function et(){J=new Map}et();function dr(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Je)});if(t>=0)return J.has(e)||J.set(e,new Map),J.get(e).set(t,Dt(e.children[t])),t}function ur(e,t){if(!at(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var n=dr(t),i=0;i<r.length;i++)if(at(e,r[i])){var a=J.has(t)&&J.get(t).get(i);return a&&!Me(fe(e),a)?{index:n,isProximityBased:!1}:{index:i,isProximityBased:!1}}for(var s=Number.MAX_VALUE,d=void 0,l=0;l<r.length;l++){var f=or(e,r[l]);f<s&&(s=f,d=l)}return{index:d,isProximityBased:!0}}function Te(e){return JSON.stringify(e,null,2)}function Ae(e){if(!e)throw new Error("cannot get depth of a falsy node");return bt(e,0)}function bt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?bt(e.parentElement,t+1):t-1}function lr(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function cr(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var fr=200,ot=10,He;function gr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fr,n=arguments.length>3?arguments[3]:void 0,i,a,s=!1,d,l=Array.from(t).sort(function(o,g){return Ae(g)-Ae(o)});function f(){var o=fe(e),g=n.multiScrollIfNeeded();if(!g&&d&&Math.abs(d.x-o.x)<ot&&Math.abs(d.y-o.y)<ot){He=window.setTimeout(f,r);return}if(sr(e)){tr(e);return}d=o;var u=!1,c=pe(l),v;try{for(c.s();!(v=c.n()).done;){var y=v.value;g&&et();var p=ur(e,y);if(p!==null){var D=p.index;u=!0,y!==i?(i&&Jt(i,e,y),Xt(y,p,e),i=y):D!==a&&(er(y,p,e),a=D);break}}}catch(h){c.e(h)}finally{c.f()}!u&&s&&i?(Qt(i,e),i=void 0,a=void 0,s=!1):s=!0,He=window.setTimeout(f,r)}f()}function vr(){clearTimeout(He),et()}var le=30;function pr(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(a){var s=e,d=s.directionObj,l=s.stepPx;d&&(a.scrollBy(d.x*l,d.y*l),window.requestAnimationFrame(function(){return r(a)}))}function n(a){return le-a}function i(a,s){if(!s)return!1;var d=mr(a,s);if(d===null)return t(),!1;var l=!!e.directionObj,f=!1,o=!1;return s.scrollHeight>s.clientHeight&&(d.bottom<le?(f=!0,e.directionObj={x:0,y:1},e.stepPx=n(d.bottom)):d.top<le&&(f=!0,e.directionObj={x:0,y:-1},e.stepPx=n(d.top)),!l&&f)||s.scrollWidth>s.clientWidth&&(d.right<le?(o=!0,e.directionObj={x:1,y:0},e.stepPx=n(d.right)):d.left<le&&(o=!0,e.directionObj={x:-1,y:0},e.stepPx=n(d.left)),!l&&o)?(r(s),!0):(t(),!1)}return{scrollIfNeeded:i,resetScrolling:t}}function mr(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Me(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function hr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=Dr(e),n=Array.from(r).sort(function(d,l){return Ae(l)-Ae(d)}),i=pr(),a=i.scrollIfNeeded;function s(){var d=t();if(!d||!n)return!1;for(var l=n.filter(function(g){return Me(d,g.getBoundingClientRect())||g===document.scrollingElement}),f=0;f<l.length;f++){var o=a(d,l[f]);if(o)return!0}return!1}return{multiScrollIfNeeded:r.size>0?s:function(){return!1}}}function yr(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),i=n.overflow;i.split(" ").some(function(a){return a.includes("auto")||a.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function Dr(e){var t=new Set,r=pe(e),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;yr(i).forEach(function(a){return t.add(a)})}}catch(a){r.e(a)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Er(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",i=n?[e]:M(e.querySelectorAll("select")),a=pe(i),s;try{for(a.s();!(s=a.n()).done;){var d=s.value;r.push(d.value)}}catch(x){a.e(x)}finally{a.f()}if(i.length>0)for(var l=n?[t]:M(t.querySelectorAll("select")),f=0;f<l.length;f++){var o=l[f],g=r[f],u=o.querySelector('option[value="'.concat(g,'"'));u&&u.setAttribute("selected",!0)}var c=e.tagName==="CANVAS",v=c?[e]:M(e.querySelectorAll("canvas"));if(v.length>0)for(var y=c?[t]:M(t.querySelectorAll("canvas")),p=0;p<y.length;p++){var D=v[p],h=y[p];h.width=D.width,h.height=D.height,h.getContext("2d").drawImage(D,0,0)}return t}var ge=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Tr=ee({},ge.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Ot(e){if(!ge[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(ge)));return Tr[e]}var br=.2;function Y(e){return"".concat(e," ").concat(br,"s ease")}function Or(e,t){var r=e.getBoundingClientRect(),n=Er(e);_t(e,n),n.id=ir,n.style.position="fixed";var i=r.top,a=r.left;if(n.style.top="".concat(i,"px"),n.style.left="".concat(a,"px"),t){var s=Tt(r);i-=s.y-t.y,a-=s.x-t.x,window.setTimeout(function(){n.style.top="".concat(i,"px"),n.style.left="".concat(a,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(Y("top"),", ").concat(Y("left"),", ").concat(Y("background-color"),", ").concat(Y("opacity"),", ").concat(Y("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(Y("width"),", ").concat(Y("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function _r(e){e.style.cursor="grab"}function wr(e,t,r,n){_t(t,e);var i=t.getBoundingClientRect(),a=e.getBoundingClientRect(),s=i.width-a.width,d=i.height-a.height;if(s||d){var l={left:(r-a.left)/a.width,top:(n-a.top)/a.height};Ot(ge.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(i.height,"px"),e.style.width="".concat(i.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-l.left*s,"px"),e.style.top="".concat(parseFloat(e.style.top)-l.top*d,"px")}}function _t(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||Ot(ge.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function Ir(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function wt(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Ar(e){e.style.visibility="hidden",e.setAttribute(Je,"true")}function Sr(e){e.style.visibility="",e.removeAttribute(Je)}function Oe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var i=t(n);Object.keys(i).forEach(function(a){n.style[a]=i[a]}),r(n).forEach(function(a){return n.classList.add(a)})})}function Se(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var i=t(n);Object.keys(i).forEach(function(a){n.style[a]=""}),r(n).forEach(function(a){return n.classList.contains(a)&&n.classList.remove(a)})})}function Rr(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var Nr="--any--",xr=100,Cr=20,st=3,dt={outline:"rgba(255, 255, 102, 0.7) solid 2px"},ut="data-is-dnd-original-dragged-item",B,w,R,Fe,m,Ge,H,I,W,C,K=!1,tt=!1,rt,he=!1,_e=[],k=new Map,T=new Map,$e=new WeakMap;function Lr(e,t){k.has(t)||k.set(t,new Set),k.get(t).has(e)||(k.get(t).add(e),ht())}function lt(e,t){k.get(t).delete(e),yt(),k.get(t).size===0&&k.delete(t)}function Pr(){var e=k.get(Fe),t=pe(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener(Ce,It),n.addEventListener(me,At),n.addEventListener(Le,St)}}catch(d){t.e(d)}finally{t.f()}window.addEventListener(Xe,re);var i=Math.max.apply(Math,M(Array.from(e.keys()).map(function(d){return T.get(d).dropAnimationDurationMs}))),a=i===0?Cr:Math.max(i,xr),s=hr(e,function(){return C});gr(w,e,a*1.07,s)}function Mr(){var e=k.get(Fe),t=pe(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener(Ce,It),n.removeEventListener(me,At),n.removeEventListener(Le,St)}}catch(i){t.e(i)}finally{t.f()}window.removeEventListener(Xe,re),vr()}function ke(e){return e.findIndex(function(t){return!!t[Pe]})}function Fr(e){var t;return we(we({},e),{},(t={},ee(t,Pe,!0),ee(t,O,nr),t))}function It(e){var t=T.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==m)){if(he=!1,r=r.filter(function(o){return o[O]!==H[O]}),m!==e.currentTarget){var i=T.get(m).items,a=i.filter(function(o){return!o[Pe]});j(m,a,{trigger:S.DRAGGED_ENTERED_ANOTHER,id:R[O],source:N.POINTER})}var s=e.detail.indexObj,d=s.index,l=s.isProximityBased,f=l&&d===e.currentTarget.children.length-1?d+1:d;I=e.currentTarget,r.splice(f,0,H),j(e.currentTarget,r,{trigger:S.DRAGGED_ENTERED,id:R[O],source:N.POINTER})}}function At(e){if(K){var t=T.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==m&&e.currentTarget!==I)){var i=M(r),a=ke(i);a!==-1&&i.splice(a,1);var s=I;I=void 0;var d=e.detail,l=d.type,f=d.theOtherDz;if(l===Ie.OUTSIDE_OF_ANY||l===Ie.LEFT_FOR_ANOTHER&&f!==m&&T.get(f).dropFromOthersDisabled){he=!0,I=m;var o=s===m?i:M(T.get(m).items);o.splice(Ge,0,H),j(m,o,{trigger:S.DRAGGED_LEFT_ALL,id:R[O],source:N.POINTER})}j(e.currentTarget,i,{trigger:S.DRAGGED_LEFT,id:R[O],source:N.POINTER})}}}function St(e){var t=T.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==m)){var i=M(r);he=!1;var a=e.detail.indexObj.index,s=ke(i);s!==-1&&i.splice(s,1),i.splice(a,0,H),j(e.currentTarget,i,{trigger:S.DRAGGED_OVER_INDEX,id:R[O],source:N.POINTER})}}function Re(e){e.preventDefault();var t=e.touches?e.touches[0]:e;C={x:t.clientX,y:t.clientY},w.style.transform="translate3d(".concat(C.x-W.x,"px, ").concat(C.y-W.y,"px, 0)")}function re(){tt=!0,window.removeEventListener("mousemove",Re),window.removeEventListener("touchmove",Re),window.removeEventListener("mouseup",re),window.removeEventListener("touchend",re),Mr(),_r(w),I||(I=m);var e=T.get(I),t=e.items,r=e.type;Se(k.get(r),function(a){return T.get(a).dropTargetStyle},function(a){return T.get(a).dropTargetClasses});var n=ke(t);n===-1&&I===m&&(n=Ge),t=t.map(function(a){return a[Pe]?R:a});function i(){rt(),te(I,t,{trigger:he?S.DROPPED_OUTSIDE_OF_ANY:S.DROPPED_INTO_ZONE,id:R[O],source:N.POINTER}),I!==m&&te(m,T.get(m).items,{trigger:S.DROPPED_INTO_ANOTHER,id:R[O],source:N.POINTER}),n!==-1&&Sr(I.children[n]),zr()}Gr(n,i)}function Gr(e,t){var r=e>-1?Ze(I.children[e]):Ze(I),n={x:r.left-parseFloat(w.style.left),y:r.top-parseFloat(w.style.top)},i=T.get(I),a=i.dropAnimationDurationMs,s="transform ".concat(a,"ms ease");w.style.transition=w.style.transition?w.style.transition+","+s:s,w.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,a)}function kr(e,t){_e.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){wt(e),document.body.appendChild(e)})}function zr(){w.remove(),B.remove(),_e.length&&(_e.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),_e=[]),w=void 0,B=void 0,R=void 0,Fe=void 0,m=void 0,Ge=void 0,H=void 0,I=void 0,W=void 0,C=void 0,K=!1,tt=!1,rt=void 0,he=!1}function Br(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:dt,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1},i=new Map;function a(){window.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("touchmove",l,{passive:!1,capture:!1}),window.addEventListener("mouseup",d,{passive:!1}),window.addEventListener("touchend",d,{passive:!1})}function s(){window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("mouseup",d),window.removeEventListener("touchend",d)}function d(u){s(),B=void 0,W=void 0,C=void 0,u.type==="touchend"&&u.target.click()}function l(u){u.preventDefault();var c=u.touches?u.touches[0]:u;C={x:c.clientX,y:c.clientY},(Math.abs(C.x-W.x)>=st||Math.abs(C.y-W.y)>=st)&&(s(),o())}function f(u){if(!(u.target!==u.currentTarget&&(u.target.value!==void 0||u.target.isContentEditable))&&!u.button&&!K){u.preventDefault(),u.stopPropagation();var c=u.touches?u.touches[0]:u;W={x:c.clientX,y:c.clientY},C=we({},W),B=u.currentTarget,a()}}function o(){K=!0;var u=i.get(B);Ge=u,m=B.parentElement;var c=m.closest("dialog")||m.getRootNode(),v=c.body||c,y=n.items,p=n.type,D=n.centreDraggedOnCursor,h=M(y);R=h[u],Fe=p,H=Fr(R),w=Or(B,D&&C),B.setAttribute(ut,!0);function x(){w.parentElement?window.requestAnimationFrame(x):(v.appendChild(w),w.focus(),Pr(),wt(B),v.appendChild(B),H[O]=R[O])}window.requestAnimationFrame(x),Oe(Array.from(k.get(n.type)).filter(function(L){return L===m||!T.get(L).dropFromOthersDisabled}),function(L){return T.get(L).dropTargetStyle},function(L){return T.get(L).dropTargetClasses}),h.splice(u,1,H),rt=Rr(m),j(m,h,{trigger:S.DRAG_STARTED,id:R[O],source:N.POINTER}),window.addEventListener("mousemove",Re,{passive:!1}),window.addEventListener("touchmove",Re,{passive:!1,capture:!1}),window.addEventListener("mouseup",re,{passive:!1}),window.addEventListener("touchend",re,{passive:!1})}function g(u){var c=u.items,v=c===void 0?void 0:c,y=u.flipDurationMs,p=y===void 0?0:y,D=u.type,h=D===void 0?Nr:D,x=u.dragDisabled,L=x===void 0?!1:x,ne=u.morphDisabled,ye=ne===void 0?!1:ne,ie=u.dropFromOthersDisabled,ae=ie===void 0?!1:ie,oe=u.dropTargetStyle,se=oe===void 0?dt:oe,de=u.dropTargetClasses,U=de===void 0?[]:de,De=u.transformDraggedElement,ue=De===void 0?function(){}:De,ze=u.centreDraggedOnCursor,Ee=ze===void 0?!1:ze;n.dropAnimationDurationMs=p,n.type&&h!==n.type&&lt(e,n.type),n.type=h,n.items=M(v),n.dragDisabled=L,n.morphDisabled=ye,n.transformDraggedElement=ue,n.centreDraggedOnCursor=Ee,r&&K&&!tt&&(!lr(se,n.dropTargetStyle)||!cr(U,n.dropTargetClasses))&&(Se([e],function(){return n.dropTargetStyle},function(){return U}),Oe([e],function(){return se},function(){return U})),n.dropTargetStyle=se,n.dropTargetClasses=M(U);function b(z,nt){return T.get(z)?T.get(z)[nt]:n[nt]}r&&K&&n.dropFromOthersDisabled!==ae&&(ae?Se([e],function(z){return b(z,"dropTargetStyle")},function(z){return b(z,"dropTargetClasses")}):Oe([e],function(z){return b(z,"dropTargetStyle")},function(z){return b(z,"dropTargetClasses")})),n.dropFromOthersDisabled=ae,T.set(e,n),Lr(e,h);for(var Lt=ke(n.items),X=0;X<e.children.length;X++){var F=e.children[X];if(Ir(F,L),X===Lt){ye||wr(w,F,C.x,C.y),n.transformDraggedElement(w,R,X),Ar(F);continue}F.removeEventListener("mousedown",$e.get(F)),F.removeEventListener("touchstart",$e.get(F)),L||(F.addEventListener("mousedown",f),F.addEventListener("touchstart",f),$e.set(F,f)),i.set(F,X),r||(r=!0)}}return g(t),{update:function(c){g(c)},destroy:function(){function c(){lt(e,T.get(e).type),T.delete(e)}K&&!e.closest("[".concat(ut,"]"))?kr(e,c):c()}}}var be,je={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Rt=(be={},ee(be,je.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),ee(be,je.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),be),$r="dnd-action-aria-alert",E;function Ye(){E||(E=document.createElement("div"),function(){E.id=$r,E.style.position="fixed",E.style.bottom="0",E.style.left="0",E.style.zIndex="-5",E.style.opacity="0",E.style.height="0",E.style.width="0",E.setAttribute("role","alert")}(),document.body.prepend(E),Object.entries(Rt).forEach(function(e){var t=Ut(e,2),r=t[0],n=t[1];return document.body.prepend(Zr(r,n))}))}function Ur(){return Qe?null:(document.readyState==="complete"?Ye():window.addEventListener("DOMContentLoaded",Ye),we({},je))}function Wr(){Qe||!E||(Object.keys(Rt).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),E.remove(),E=void 0)}function Zr(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Q(e){if(!Qe){E||Ye(),E.innerHTML="";var t=document.createTextNode(e);E.appendChild(t),E.style.display="none",E.style.display="inline"}}var Hr="--any--",ct={outline:"rgba(255, 255, 102, 0.7) solid 2px"},P=!1,Ve,A,q="",V,$,Z="",Ne=new WeakSet,ft=new WeakMap,gt=new WeakMap,Ke=new Map,_=new Map,G=new Map,xe;function jr(e,t){G.size===0&&(xe=Ur(),window.addEventListener("keydown",Nt),window.addEventListener("click",xt)),G.has(t)||G.set(t,new Set),G.get(t).has(e)||(G.get(t).add(e),ht())}function vt(e,t){A===e&&ve(),G.get(t).delete(e),yt(),G.get(t).size===0&&G.delete(t),G.size===0&&(window.removeEventListener("keydown",Nt),window.removeEventListener("click",xt),xe=void 0,Wr())}function Nt(e){if(P)switch(e.key){case"Escape":{ve();break}}}function xt(){P&&(Ne.has(document.activeElement)||ve())}function Yr(e){if(P){var t=e.currentTarget;if(t!==A){q=t.getAttribute("aria-label")||"";var r=_.get(A),n=r.items,i=n.find(function(g){return g[O]===$}),a=n.indexOf(i),s=n.splice(a,1)[0],d=_.get(t),l=d.items,f=d.autoAriaDisabled;t.getBoundingClientRect().top<A.getBoundingClientRect().top||t.getBoundingClientRect().left<A.getBoundingClientRect().left?(l.push(s),f||Q("Moved item ".concat(Z," to the end of the list ").concat(q))):(l.unshift(s),f||Q("Moved item ".concat(Z," to the beginning of the list ").concat(q)));var o=A;te(o,n,{trigger:S.DROPPED_INTO_ANOTHER,id:$,source:N.KEYBOARD}),te(t,l,{trigger:S.DROPPED_INTO_ZONE,id:$,source:N.KEYBOARD}),A=t}}}function Ct(){Ke.forEach(function(e,t){var r=e.update;return r(_.get(t))})}function ve(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;_.get(A).autoAriaDisabled||Q("Stopped dragging item ".concat(Z)),Ne.has(document.activeElement)&&document.activeElement.blur(),e&&j(A,_.get(A).items,{trigger:S.DRAG_STOPPED,id:$,source:N.KEYBOARD}),Se(G.get(Ve),function(t){return _.get(t).dropTargetStyle},function(t){return _.get(t).dropTargetClasses}),V=null,$=null,Z="",Ve=null,A=null,q="",P=!1,Ct()}function Vr(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:ct,dropTargetClasses:[],autoAriaDisabled:!1};function n(o,g,u){o.length<=1||o.splice(u,1,o.splice(g,1,o[u])[0])}function i(o){switch(o.key){case"Enter":case" ":{if((o.target.disabled!==void 0||o.target.href||o.target.isContentEditable)&&!Ne.has(o.target))return;o.preventDefault(),o.stopPropagation(),P?ve():a(o);break}case"ArrowDown":case"ArrowRight":{if(!P)return;o.preventDefault(),o.stopPropagation();var g=_.get(e),u=g.items,c=Array.from(e.children),v=c.indexOf(o.currentTarget);v<c.length-1&&(r.autoAriaDisabled||Q("Moved item ".concat(Z," to position ").concat(v+2," in the list ").concat(q)),n(u,v,v+1),te(e,u,{trigger:S.DROPPED_INTO_ZONE,id:$,source:N.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!P)return;o.preventDefault(),o.stopPropagation();var y=_.get(e),p=y.items,D=Array.from(e.children),h=D.indexOf(o.currentTarget);h>0&&(r.autoAriaDisabled||Q("Moved item ".concat(Z," to position ").concat(h," in the list ").concat(q)),n(p,h,h-1),te(e,p,{trigger:S.DROPPED_INTO_ZONE,id:$,source:N.KEYBOARD}));break}}}function a(o){d(o.currentTarget),A=e,Ve=r.type,P=!0;var g=Array.from(G.get(r.type)).filter(function(c){return c===A||!_.get(c).dropFromOthersDisabled});if(Oe(g,function(c){return _.get(c).dropTargetStyle},function(c){return _.get(c).dropTargetClasses}),!r.autoAriaDisabled){var u="Started dragging item ".concat(Z,". Use the arrow keys to move it within its list ").concat(q);g.length>1&&(u+=", or tab to another list in order to move the item into it"),Q(u)}j(e,_.get(e).items,{trigger:S.DRAG_STARTED,id:$,source:N.KEYBOARD}),Ct()}function s(o){P&&o.currentTarget!==V&&(o.stopPropagation(),ve(!1),a(o))}function d(o){var g=_.get(e),u=g.items,c=Array.from(e.children),v=c.indexOf(o);V=o,V.tabIndex=r.zoneItemTabIndex,$=u[v][O],Z=c[v].getAttribute("aria-label")||""}function l(o){var g=o.items,u=g===void 0?[]:g,c=o.type,v=c===void 0?Hr:c,y=o.dragDisabled,p=y===void 0?!1:y,D=o.zoneTabIndex,h=D===void 0?0:D,x=o.zoneItemTabIndex,L=x===void 0?0:x,ne=o.dropFromOthersDisabled,ye=ne===void 0?!1:ne,ie=o.dropTargetStyle,ae=ie===void 0?ct:ie,oe=o.dropTargetClasses,se=oe===void 0?[]:oe,de=o.autoAriaDisabled,U=de===void 0?!1:de;r.items=M(u),r.dragDisabled=p,r.dropFromOthersDisabled=ye,r.zoneTabIndex=h,r.zoneItemTabIndex=L,r.dropTargetStyle=ae,r.dropTargetClasses=se,r.autoAriaDisabled=U,r.type&&v!==r.type&&vt(e,r.type),r.type=v,jr(e,v),U||(e.setAttribute("aria-disabled",p),e.setAttribute("role","list"),e.setAttribute("aria-describedby",p?xe.DND_ZONE_DRAG_DISABLED:xe.DND_ZONE_ACTIVE)),_.set(e,r),P?e.tabIndex=e===A||V.contains(e)||r.dropFromOthersDisabled||A&&r.type!==_.get(A).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Yr);for(var De=function(Ee){var b=e.children[Ee];Ne.add(b),b.tabIndex=P?-1:r.zoneItemTabIndex,U||b.setAttribute("role","listitem"),b.removeEventListener("keydown",ft.get(b)),b.removeEventListener("click",gt.get(b)),p||(b.addEventListener("keydown",i),ft.set(b,i),b.addEventListener("click",s),gt.set(b,s)),P&&r.items[Ee][O]===$&&(V=b,V.tabIndex=r.zoneItemTabIndex,b.focus())},ue=0;ue<e.children.length;ue++)De(ue)}l(t);var f={update:function(g){l(g)},destroy:function(){vt(e,r.type),_.delete(e),Ke.delete(e)}};return Ke.set(e,f),f}var Kr=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor"];function tn(e,t){if(qr(e))return{update:function(){},destroy:function(){}};pt(t);var r=Br(e,t),n=Vr(e,t);return{update:function(a){pt(a),r.update(a),n.update(a)},destroy:function(){r.destroy(),n.destroy()}}}function qr(e){return!!e.closest("[".concat(rr,'="true"]'))}function pt(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var i=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var a=$t(e,Kr);if(Object.keys(a).length>0&&console.warn("dndzone will ignore unknown options",a),!t)throw new Error("no 'items' key provided to dndzone");var s=t.find(function(d){return!{}.hasOwnProperty.call(d,O)});if(s)throw new Error("missing '".concat(O,"' property for item ").concat(Te(s)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(ce(i),", ").concat(Te(i)));if(r&&!mt(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(ce(r),", ").concat(Te(r)));if(n&&!mt(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(ce(n),", ").concat(Te(n)))}function mt(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}export{Qr as c,tn as d,en as f};
