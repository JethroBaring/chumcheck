import{d as ge,f as $e,c as ve}from"../chunks/index.N1Opufex.js";import{s as be,a as z,e as T,E as ke,f as m,g as B,c as E,w as _e,b as C,l as S,i as x,n as J,G as Z,z as pe,t as F,d as G,h as w,j as le,x as K,y as Q,D as Ie,q as ee,H as we,v as xe}from"../chunks/scheduler.C5Rd-ZIZ.js";import{S as De,i as Te,c as M,a as q,m as j,t as y,b as P,d as H,g as me,e as he,h as W}from"../chunks/index.GzWkxjRN.js";import{e as U,u as Ee,f as Ve}from"../chunks/events.D-BaW_4L.js";import{P as ye}from"../chunks/plus.BzRWqzBk.js";import"../chunks/entry.BoktTKZC.js";import{f as Ce}from"../chunks/index.BKzzR3x8.js";import{R as Se,D as Pe}from"../chunks/index.D2umTjxw.js";import"../chunks/index.BfW4Bjkg.js";import"../chunks/index.BBcO3jaG.js";import{P as ze}from"../chunks/public.C6Wrg0vX.js";import"../chunks/create.CWXb-gbW.js";import{L as X}from"../chunks/label.C9yK8Fqe.js";import{T as Y}from"../chunks/textarea.DCy5iBnL.js";function re(r,e,t){const l=r.slice();return l[16]=e[t],l[18]=t,l}function oe(r,e,t){const l=r.slice();return l[19]=e[t],l[21]=t,l}function ue(r,e,t){const l=r.slice();return l[16]=e[t],l[23]=t,l}function Be(r){let e,t="Initiatives Board will show once your mentor is done finalizing it";return{c(){e=T("div"),e.textContent=t,this.h()},l(l){e=E(l,"DIV",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-182y9k9"&&(e.textContent=t),this.h()},h(){S(e,"class","flex flex-1 items-center justify-center")},m(l,n){x(l,e,n)},p:J,i:J,o:J,d(l){l&&m(e)}}}function Le(r){let e,t,l=U(r[0]),n=[];for(let s=0;s<l.length;s+=1)n[s]=de(re(r,l,s));const h=s=>P(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Z()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);e=Z()},m(s,a){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,a);x(s,e,a),t=!0},p(s,a){if(a&233){l=U(s[0]);let i;for(i=0;i<l.length;i+=1){const g=re(s,l,i);n[i]?(n[i].p(g,a),y(n[i],1)):(n[i]=de(g),n[i].c(),y(n[i],1),n[i].m(e.parentNode,e))}for(me(),i=l.length;i<n.length;i+=1)h(i);he()}},i(s){if(!t){for(let a=0;a<l.length;a+=1)y(n[a]);t=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)P(n[a]);t=!1},d(s){s&&m(e),pe(n,s)}}}function Me(r){let e=[],t=new Map,l,n=U(r[19].subItems);const h=s=>s[16].id;for(let s=0;s<n.length;s+=1){let a=ue(r,n,s),i=h(a);t.set(i,e[s]=fe(i,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();l=Z()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);l=Z()},m(s,a){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(s,a);x(s,l,a)},p(s,a){if(a&137){n=U(s[19].subItems);for(let i=0;i<e.length;i+=1)e[i].r();e=Ee(e,a,h,1,s,n,t,l.parentNode,Ve,fe,l,ue);for(let i=0;i<e.length;i+=1)e[i].a()}},d(s){s&&m(l);for(let a=0;a<e.length;a+=1)e[a].d(s)}}}function qe(r){let e;return{c(){e=T("div"),this.h()},l(t){e=E(t,"DIV",{class:!0}),C(e).forEach(m),this.h()},h(){S(e,"class","h-40")},m(t,l){x(t,e,l)},p:J,d(t){t&&m(e)}}}function fe(r,e){let t,l,n=e[16].description.substring(0,80)+"...",h,s,a,i=J,g,_;function f(){return e[9](e[18],e[21],e[23])}return{key:r,first:null,c(){t=T("div"),l=T("p"),h=F(n),s=z(),this.h()},l(b){t=E(b,"DIV",{class:!0});var u=C(t);l=E(u,"P",{});var o=C(l);h=G(o,n),o.forEach(m),s=B(u),u.forEach(m),this.h()},h(){S(t,"class","flex h-40 cursor-pointer flex-col gap-3 rounded-lg bg-white/60 p-5 dark:bg-muted"),this.first=t},m(b,u){x(b,t,u),w(t,l),w(l,h),w(t,s),g||(_=ee(t,"click",f),g=!0)},p(b,u){e=b,u&1&&n!==(n=e[16].description.substring(0,80)+"...")&&le(h,n)},r(){a=t.getBoundingClientRect()},f(){$e(t),i()},a(){i(),i=ve(t,a,Ce,{duration:te})},d(b){b&&m(t),g=!1,_()}}}function ce(r){let e,t,l,n=r[19].subTitle+"",h,s,a,i,g,_,f,b,u,o,c;i=new ye({props:{class:"h-4 w-4"}});function v($,D){return $[19].subItems.length===0?qe:Me}let L=v(r),I=L(r);function p(...$){return r[10](r[18],r[21],...$)}function V(...$){return r[11](r[18],r[21],r[19],...$)}return{c(){e=T("div"),t=T("div"),l=T("p"),h=F(n),s=z(),a=T("button"),M(i.$$.fragment),g=z(),_=T("div"),I.c(),b=z(),this.h()},l($){e=E($,"DIV",{class:!0});var D=C(e);t=E(D,"DIV",{class:!0});var N=C(t);l=E(N,"P",{});var O=C(l);h=G(O,n),O.forEach(m),s=B(N),a=E(N,"BUTTON",{});var d=C(a);q(i.$$.fragment,d),d.forEach(m),N.forEach(m),g=B(D),_=E(D,"DIV",{class:!0});var k=C(_);I.l(k),k.forEach(m),b=B(D),D.forEach(m),this.h()},h(){S(t,"class","flex items-center gap-3"),S(_,"class","flex flex-col gap-4"),S(e,"class","flex flex-col gap-3")},m($,D){x($,e,D),w(e,t),w(t,l),w(l,h),w(t,s),w(t,a),j(i,a,null),w(e,g),w(e,_),I.m(_,null),w(e,b),u=!0,o||(c=[Ie(f=ge.call(null,_,{items:r[19].subItems,flipDurationMs:te,dropTargetStyle:{outline:"rgba(255, 255, 255, 0) solid 2px"}})),ee(_,"consider",p),ee(_,"finalize",V)],o=!0)},p($,D){r=$,(!u||D&1)&&n!==(n=r[19].subTitle+"")&&le(h,n),L===(L=v(r))&&I?I.p(r,D):(I.d(1),I=L(r),I&&(I.c(),I.m(_,null))),f&&we(f.update)&&D&1&&f.update.call(null,{items:r[19].subItems,flipDurationMs:te,dropTargetStyle:{outline:"rgba(255, 255, 255, 0) solid 2px"}})},i($){u||(y(i.$$.fragment,$),u=!0)},o($){P(i.$$.fragment,$),u=!1},d($){$&&m(e),H(i),I.d(),o=!1,xe(c)}}}function de(r){let e,t,l=r[16].title+"",n,h,s,a,i,g,_=U(r[16].items),f=[];for(let u=0;u<_.length;u+=1)f[u]=ce(oe(r,_,u));const b=u=>P(f[u],1,1,()=>{f[u]=null});return{c(){e=T("div"),t=T("p"),n=F(l),h=z(),s=T("div"),a=T("div");for(let u=0;u<f.length;u+=1)f[u].c();i=z(),this.h()},l(u){e=E(u,"DIV",{class:!0});var o=C(e);t=E(o,"P",{class:!0});var c=C(t);n=G(c,l),c.forEach(m),h=B(o),s=E(o,"DIV",{class:!0});var v=C(s);a=E(v,"DIV",{class:!0});var L=C(a);for(let I=0;I<f.length;I+=1)f[I].l(L);L.forEach(m),v.forEach(m),i=B(o),o.forEach(m),this.h()},h(){S(t,"class","text-[17px] font-medium"),S(a,"class","flex h-0 flex-col gap-6"),S(s,"class","flex flex-1 flex-col gap-6 overflow-scroll rounded-lg bg-muted p-4 dark:bg-muted/40"),S(e,"class","flex flex-1 flex-col gap-1")},m(u,o){x(u,e,o),w(e,t),w(t,n),w(e,h),w(e,s),w(s,a);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(a,null);w(e,i),g=!0},p(u,o){if((!g||o&1)&&l!==(l=u[16].title+"")&&le(n,l),o&233){_=U(u[16].items);let c;for(c=0;c<_.length;c+=1){const v=oe(u,_,c);f[c]?(f[c].p(v,o),y(f[c],1)):(f[c]=ce(v),f[c].c(),y(f[c],1),f[c].m(a,null))}for(me(),c=_.length;c<f.length;c+=1)b(c);he()}},i(u){if(!g){for(let o=0;o<_.length;o+=1)y(f[o]);g=!0}},o(u){f=f.filter(Boolean);for(let o=0;o<f.length;o+=1)P(f[o]);g=!1},d(u){u&&m(e),pe(f,u)}}}function je(r){let e;return{c(){e=F("Description")},l(t){e=G(t,"Description")},m(t,l){x(t,e,l)},d(t){t&&m(e)}}}function He(r){let e;return{c(){e=F("Measures")},l(t){e=G(t,"Measures")},m(t,l){x(t,e,l)},d(t){t&&m(e)}}}function Ne(r){let e;return{c(){e=F("Targets")},l(t){e=G(t,"Targets")},m(t,l){x(t,e,l)},d(t){t&&m(e)}}}function Oe(r){let e,t,l,n,h,s,a,i,g,_,f,b,u,o,c,v,L,I;t=new X({props:{$$slots:{default:[je]},$$scope:{ctx:r}}});function p(d){r[12](d)}let V={rows:15,class:"text-lg",disabled:!0};r[2].description!==void 0&&(V.value=r[2].description),n=new Y({props:V}),K.push(()=>W(n,"value",p)),i=new X({props:{$$slots:{default:[He]},$$scope:{ctx:r}}});function $(d){r[13](d)}let D={rows:15,class:"text-lg",disabled:!0};r[2].measures!==void 0&&(D.value=r[2].measures),_=new Y({props:D}),K.push(()=>W(_,"value",$)),o=new X({props:{$$slots:{default:[Ne]},$$scope:{ctx:r}}});function N(d){r[14](d)}let O={rows:15,class:"text-lg",disabled:!0};return r[2].targets!==void 0&&(O.value=r[2].targets),v=new Y({props:O}),K.push(()=>W(v,"value",N)),{c(){e=T("div"),M(t.$$.fragment),l=z(),M(n.$$.fragment),s=z(),a=T("div"),M(i.$$.fragment),g=z(),M(_.$$.fragment),b=z(),u=T("div"),M(o.$$.fragment),c=z(),M(v.$$.fragment),this.h()},l(d){e=E(d,"DIV",{class:!0});var k=C(e);q(t.$$.fragment,k),l=B(k),q(n.$$.fragment,k),k.forEach(m),s=B(d),a=E(d,"DIV",{class:!0});var R=C(a);q(i.$$.fragment,R),g=B(R),q(_.$$.fragment,R),R.forEach(m),b=B(d),u=E(d,"DIV",{class:!0});var A=C(u);q(o.$$.fragment,A),c=B(A),q(v.$$.fragment,A),A.forEach(m),this.h()},h(){S(e,"class","grid w-full gap-1.5 h-[150px]"),S(a,"class","grid w-full gap-1.5 h-[150px]"),S(u,"class","grid w-full gap-1.5 h-[150px]")},m(d,k){x(d,e,k),j(t,e,null),w(e,l),j(n,e,null),x(d,s,k),x(d,a,k),j(i,a,null),w(a,g),j(_,a,null),x(d,b,k),x(d,u,k),j(o,u,null),w(u,c),j(v,u,null),I=!0},p(d,k){const R={};k&16777216&&(R.$$scope={dirty:k,ctx:d}),t.$set(R);const A={};!h&&k&4&&(h=!0,A.value=d[2].description,Q(()=>h=!1)),n.$set(A);const se={};k&16777216&&(se.$$scope={dirty:k,ctx:d}),i.$set(se);const ae={};!f&&k&4&&(f=!0,ae.value=d[2].measures,Q(()=>f=!1)),_.$set(ae);const ne={};k&16777216&&(ne.$$scope={dirty:k,ctx:d}),o.$set(ne);const ie={};!L&&k&4&&(L=!0,ie.value=d[2].targets,Q(()=>L=!1)),v.$set(ie)},i(d){I||(y(t.$$.fragment,d),y(n.$$.fragment,d),y(i.$$.fragment,d),y(_.$$.fragment,d),y(o.$$.fragment,d),y(v.$$.fragment,d),I=!0)},o(d){P(t.$$.fragment,d),P(n.$$.fragment,d),P(i.$$.fragment,d),P(_.$$.fragment,d),P(o.$$.fragment,d),P(v.$$.fragment,d),I=!1},d(d){d&&(m(e),m(s),m(a),m(b),m(u)),H(t),H(n),H(i),H(_),H(o),H(v)}}}function Re(r){let e,t;return e=new Pe({props:{class:"h-[600px] max-w-[800px]",$$slots:{default:[Oe]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,n){j(e,l,n),t=!0},p(l,n){const h={};n&16777220&&(h.$$scope={dirty:n,ctx:l}),e.$set(h)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){H(e,l)}}}function Ae(r){let e,t,l='<div class="flex w-full justify-between"><h1 class="text-lg font-semibold md:text-2xl">Initiatives</h1></div>',n,h,s,a,i,g,_;const f=[Le,Be],b=[];function u(o,c){return o[4].length>0&&o[4][0].status!==1?0:1}return s=u(r),a=b[s]=f[s](r),g=new Se({props:{open:r[1],onOpenChange:r[3],$$slots:{default:[Re]},$$scope:{ctx:r}}}),{c(){e=z(),t=T("div"),t.innerHTML=l,n=z(),h=T("div"),a.c(),i=z(),M(g.$$.fragment),this.h()},l(o){ke("svelte-ydu9nt",document.head).forEach(m),e=B(o),t=E(o,"DIV",{class:!0,"data-svelte-h":!0}),_e(t)!=="svelte-1ibwosp"&&(t.innerHTML=l),n=B(o),h=E(o,"DIV",{class:!0});var v=C(h);a.l(v),v.forEach(m),i=B(o),q(g.$$.fragment,o),this.h()},h(){document.title="Initiatives",S(t,"class","flex items-center"),S(h,"class","flex flex-1 gap-6")},m(o,c){x(o,e,c),x(o,t,c),x(o,n,c),x(o,h,c),b[s].m(h,null),x(o,i,c),j(g,o,c),_=!0},p(o,[c]){a.p(o,c);const v={};c&2&&(v.open=o[1]),c&16777220&&(v.$$scope={dirty:c,ctx:o}),g.$set(v)},i(o){_||(y(a),y(g.$$.fragment,o),_=!0)},o(o){P(a),P(g.$$.fragment,o),_=!1},d(o){o&&(m(e),m(t),m(n),m(h),m(i)),b[s].d(),H(g,o)}}}const te=300;function Ue(r,e,t){function l(){t(1,_=!_)}let{data:n}=e,h=n.access,s=n.initiatives,a=[{title:"Backlog",items:[{subTitle:"Scheduled",subStatus:4,subItems:s.filter(p=>p.status===4)}]},{title:"In Progress",items:[{subTitle:"Track",subStatus:5,subItems:s.filter(p=>p.status===5)},{subTitle:"Delayed",subStatus:3,subItems:s.filter(p=>p.status===3)}]},{title:"Done",items:[{subTitle:"Completed",subStatus:6,subItems:s.filter(p=>p.status===6)},{subTitle:"Discontinued",subStatus:2,subItems:s.filter(p=>p.status===2)}]}];function i(p,V,$){t(0,a[V].items[$].subItems=p.detail.items,a)}async function g(p,V,$,D){if(t(0,a[V].items[$].subItems=p.detail.items,a),p.detail.info.trigger=="droppedIntoZone"){const N=p.detail.items.find(O=>O.id==p.detail.info.id);await fetch(`${ze}/tasks/initiatives/${N.id}/`,{method:"PATCH",headers:{"Content-type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({status:D})})}}let _=!1,f=a[0].items[0].subItems[0];function b(p,V,$){t(2,f=a[p].items[V].subItems[$])}const u=(p,V,$)=>{l(),b(p,V,$)},o=(p,V,$)=>i($,p,V),c=(p,V,$,D)=>g(D,p,V,$.subStatus);function v(p){r.$$.not_equal(f.description,p)&&(f.description=p,t(2,f))}function L(p){r.$$.not_equal(f.measures,p)&&(f.measures=p,t(2,f))}function I(p){r.$$.not_equal(f.targets,p)&&(f.targets=p,t(2,f))}return r.$$set=p=>{"data"in p&&t(8,n=p.data)},[a,_,f,l,s,i,g,b,n,u,o,c,v,L,I]}class nt extends De{constructor(e){super(),Te(this,e,Ue,Ae,be,{data:8})}}export{nt as component};
